/*******************************************************************************
 * Copyright (c) 2013, 2017 Perun Technologii DOOEL Skopje.
 * All rights reserved. This program and the accompanying materials
 * are made available under the terms of the Apache License
 * Version 2.0 or the Svarog License Agreement (the "License");
 * You may not use this file except in compliance with the License. 
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See LICENSE file in the project root for the specific language governing 
 * permissions and limitations under the License.
 *
 *******************************************************************************/
package com.prtech.svarog;

import static org.junit.Assert.*;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.LinkedHashMap;
import java.util.Locale;
import java.util.UUID;

import org.junit.Test;

import com.google.gson.Gson;
import com.google.gson.JsonElement;
import com.google.gson.JsonObject;
import com.prtech.svarog_common.SvCharId;
import com.prtech.svarog_common.DbDataArray;
import com.prtech.svarog_common.DbDataObject;
import com.prtech.svarog_common.DbQueryExpression;
import com.prtech.svarog_common.DbQueryObject;
import com.prtech.svarog_common.DbSearchExpression;

public class MembersJsonTest {
	@Test
	public void testInit() {

		try
		{
		if (!SvCore.isValid.get())
			SvCore.initSvCore();

		if (!SvCore.isValid.get())
			fail("Svarog init failed");
		}catch(Exception e)
		{
			fail("Svarog init raised exception");
		}
	}

	@Test
	public void testCoreDeserialisation() {
		Long svObjectId = svCONST.MAX_SYS_OBJECT_ID;
		StringBuilder errMsg = new StringBuilder();
		DbDataArray coreObjects = new DbDataArray();
		DbDataArray coreCodes = new DbDataArray();

		svObjectId = DbInit.dbTables2DbDataArray(DbInit.getMasterRoot(), coreObjects, coreCodes, svObjectId, errMsg);

		String json = coreObjects.toJson().toString();
		json = json.replace("{MASTER_REPO}", SvConf.getMasterRepo());
		json = json.replace("{DEFAULT_SCHEMA}", SvConf.getDefaultSchema());
		json = json.replace("{REPO_TABLE_NAME}", SvConf.getMasterRepo());
		Gson gson = new Gson();
		JsonObject jobj = gson.fromJson(json, JsonElement.class).getAsJsonObject();
		coreObjects.fromJson(jobj);

		for (DbDataObject dbo : coreObjects.getItems()) {
			if (dbo.getObject_type().equals(svCONST.OBJECT_TYPE_TABLE)) {
				String tblName = (String) dbo.getVal("TABLE_NAME");
				if (tblName == null)
					fail("Basice deserialisation failed");
				dbo.setVal("TABLE_NAME", ((String) dbo.getVal("TABLE_NAME")).toUpperCase());
				dbo.setVal("SCHEMA", ((String) dbo.getVal("SCHEMA")).toUpperCase());
			}
			dbo.setIs_dirty(false);
		}
	}

	@Test
	public void testComplexSerialisation() {
		String complexObj = "{\"com.prtech.svarog_common.DbQueryExpression\":{\"items\":[{\"com.prtech.svarog_common.DbQueryObject\":{\"reverseRelation\":false,\"children\":[],\"dbt\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570112,\"object_id\":159,\"dt_insert\":\"2017-06-21T16:32:29.755+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":151,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"APPLICATION\"},{\"SCHEMA\":\"CI_DEV\"},{\"SYSTEM_TABLE\":false},{\"REPO_TABLE\":false},{\"LABEL_CODE\":\"application.general\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"dbtFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16189,\"object_id\":3403,\"dt_insert\":\"2016-04-15T18:25:35.611+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application.pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16190,\"object_id\":3404,\"dt_insert\":\"2016-04-15T18:25:35.613+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"APP_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"APP_ID_IDX\"},{\"LABEL_CODE\":\"application.app_id\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16191,\"object_id\":3405,\"dt_insert\":\"2016-04-15T18:25:35.614+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"ARCH_NO\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":100},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.arch_no\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16192,\"object_id\":3406,\"dt_insert\":\"2016-04-15T18:25:35.615+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SUBMIT_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.submit_date\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16193,\"object_id\":3407,\"dt_insert\":\"2016-04-15T18:25:35.617+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"REFERENCE_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.reference_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862800,\"object_id\":4927486,\"dt_insert\":\"2016-06-15T00:32:46.338+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"ARCHIVE_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.archive_date\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22542192,\"object_id\":20073015,\"dt_insert\":\"2016-12-19T16:59:10.201+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"APP_TYPE_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application.app_type_id\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}}],\"idxItems\":[]}},\"repo\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570006,\"object_id\":1,\"dt_insert\":\"2017-06-21T16:32:23.578+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"SVAROG\"},{\"SCHEMA\":\"CI_DEV\"},{\"SYSTEM_TABLE\":true},{\"REPO_TABLE\":true},{\"LABEL_CODE\":\"master_repo.repo_object\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"repoFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570031,\"object_id\":3140,\"dt_insert\":\"2017-06-21T16:32:23.988+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_pkid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"master_repo.table_pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15895,\"object_id\":3141,\"dt_insert\":\"2016-04-15T18:25:35.066+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"META_PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"meta_pkid_idx\"},{\"LABEL_CODE\":\"master_repo.table_meta_pkid\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570049,\"object_id\":3142,\"dt_insert\":\"2017-06-21T16:32:24.288+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_oid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_id\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15897,\"object_id\":3143,\"dt_insert\":\"2016-04-15T18:25:35.071+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_INSERT\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.insert_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":110}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15898,\"object_id\":3144,\"dt_insert\":\"2016-04-15T18:25:35.073+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_DELETE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.delete_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15899,\"object_id\":3145,\"dt_insert\":\"2016-04-15T18:25:35.075+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PARENT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.parent_id\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15900,\"object_id\":3146,\"dt_insert\":\"2016-04-15T18:25:35.076+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_TYPE\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_type\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6865424,\"object_id\":3147,\"dt_insert\":\"2016-06-15T00:33:40.159+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"STATUS\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":10},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_status\"},{\"CODE_LIST_ID\":500},{\"GUI_METADATA\":\"{\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":72}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800},{\"CODE_LIST_MNEMONIC\":\"OBJ_STATUS\"}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15902,\"object_id\":3148,\"dt_insert\":\"2016-04-15T18:25:35.080+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"USER_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.created_by_user\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":900}]}}],\"idxItems\":[]}},\"search\":{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"DT_DELETE\",\"fieldName2\":null,\"compareValue\":\"9999-12-31T01:00:00.000+01:00\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"STATUS\",\"fieldName2\":null,\"compareValue\":\"SUBMITTED\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}}],\"orderByFields\":[]}},\"searchExternal\":{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"STATUS\",\"fieldName2\":null,\"compareValue\":\"SUBMITTED\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},\"denormalizedFieldName\":null,\"linkToNextType\":\"CUSTOM\",\"linkToNext\":null,\"joinToNext\":\"INNER\",\"referenceDate\":null,\"orderByFields\":null,\"enableHistory\":false,\"customJoinLeft\":[\"APP_TYPE_ID\"],\"customJoinRight\":[\"OBJECT_ID\"],\"subQuery\":null,\"subQueryFields\":null,\"whereParamVals\":null,\"subParamVals\":null,\"customFreeTextJoin\":null,\"sqlTablePrefix\":null,\"isReturnType\":true}},{\"com.prtech.svarog_common.DbQueryObject\":{\"reverseRelation\":false,\"children\":[],\"dbt\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570113,\"object_id\":158,\"dt_insert\":\"2017-06-21T16:32:29.764+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"APPLICATION_TYPE\"},{\"SCHEMA\":\"CI_DEV\"},{\"SYSTEM_TABLE\":false},{\"REPO_TABLE\":false},{\"LABEL_CODE\":\"application_type.general\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":true},{\"CONFIG_UNQ_ID\":\"LABEL_CODE\"}]}},\"dbtFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16195,\"object_id\":3408,\"dt_insert\":\"2016-04-15T18:25:35.619+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application_type.pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16196,\"object_id\":3409,\"dt_insert\":\"2016-04-15T18:25:35.621+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DESCRIPTION\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":500},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.description\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16197,\"object_id\":3410,\"dt_insert\":\"2016-04-15T18:25:35.622+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"YEAR\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":4},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.year\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16198,\"object_id\":3411,\"dt_insert\":\"2016-04-15T18:25:35.623+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"CREATE_FROM\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.create_from\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16199,\"object_id\":3412,\"dt_insert\":\"2016-04-15T18:25:35.624+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"CREATE_TO\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.create_to\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16200,\"object_id\":3413,\"dt_insert\":\"2016-04-15T18:25:35.626+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SUBMIT_FROM\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.submit_from\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16201,\"object_id\":3414,\"dt_insert\":\"2016-04-15T18:25:35.627+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SUBMIT_TO\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.submit_to\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862801,\"object_id\":3415,\"dt_insert\":\"2016-06-15T00:32:46.368+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"LABEL_CODE\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":50},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"mnemonic.label_code\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800}]}}],\"idxItems\":[]}},\"repo\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570006,\"object_id\":1,\"dt_insert\":\"2017-06-21T16:32:23.578+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"SVAROG\"},{\"SCHEMA\":\"CI_DEV\"},{\"SYSTEM_TABLE\":true},{\"REPO_TABLE\":true},{\"LABEL_CODE\":\"master_repo.repo_object\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"repoFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570031,\"object_id\":3140,\"dt_insert\":\"2017-06-21T16:32:23.988+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_pkid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"master_repo.table_pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15895,\"object_id\":3141,\"dt_insert\":\"2016-04-15T18:25:35.066+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"META_PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"meta_pkid_idx\"},{\"LABEL_CODE\":\"master_repo.table_meta_pkid\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22570049,\"object_id\":3142,\"dt_insert\":\"2017-06-21T16:32:24.288+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_oid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_id\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15897,\"object_id\":3143,\"dt_insert\":\"2016-04-15T18:25:35.071+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_INSERT\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.insert_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":110}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15898,\"object_id\":3144,\"dt_insert\":\"2016-04-15T18:25:35.073+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_DELETE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.delete_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15899,\"object_id\":3145,\"dt_insert\":\"2016-04-15T18:25:35.075+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PARENT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.parent_id\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15900,\"object_id\":3146,\"dt_insert\":\"2016-04-15T18:25:35.076+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_TYPE\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_type\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6865424,\"object_id\":3147,\"dt_insert\":\"2016-06-15T00:33:40.159+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"STATUS\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":10},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_status\"},{\"CODE_LIST_ID\":500},{\"GUI_METADATA\":\"{\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":72}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800},{\"CODE_LIST_MNEMONIC\":\"OBJ_STATUS\"}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15902,\"object_id\":3148,\"dt_insert\":\"2016-04-15T18:25:35.080+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"USER_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.created_by_user\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":900}]}}],\"idxItems\":[]}},\"search\":{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"DT_DELETE\",\"fieldName2\":null,\"compareValue\":\"9999-12-31T01:00:00.000+01:00\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"OBJECT_ID\",\"fieldName2\":null,\"compareValue\":14121,\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}}],\"orderByFields\":[]}},\"searchExternal\":{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"OBJECT_ID\",\"fieldName2\":null,\"compareValue\":14121,\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},\"denormalizedFieldName\":null,\"linkToNextType\":null,\"linkToNext\":null,\"joinToNext\":null,\"referenceDate\":null,\"orderByFields\":null,\"enableHistory\":false,\"customJoinLeft\":[],\"customJoinRight\":[],\"subQuery\":null,\"subQueryFields\":null,\"whereParamVals\":null,\"subParamVals\":null,\"customFreeTextJoin\":null,\"sqlTablePrefix\":null,\"isReturnType\":false}}],\"rootQueryObject\":null,\"isReverseExpression\":false,\"queryParamVals\":[],\"linkStatusList\":[]}}";
		Gson gs = new Gson();
		JsonObject oJson = gs.fromJson(complexObj, JsonObject.class);
		DbQueryExpression dbx = new DbQueryExpression();
		dbx.fromJson(oJson);
		
		String search = dbx.toJson().toString();
		DbQueryExpression dbx2 = new DbQueryExpression();
		dbx2.fromJson(gs.fromJson(search, JsonObject.class));

		if (!dbx.toJson().toString().equals(dbx2.toJson().toString())) {
			System.out.println(complexObj);
			System.out.println(dbx.toJson().toString());
			fail("DbQuery isn't equal after deserialisation");
		}

	}

	@Test
	public void testDboGetVal() {

		DbDataObject obj = new DbDataObject();

		obj.setVal("TEST", 1);
		obj.setVal("TABLE_NAME", "TEST");
		if (obj.getVal("test") == null)
			fail("DbDataObject set and get Val are case sensitive!");
		if (obj.getVal("TABLE_NAME") == null)
			fail("DbDataObject set and get Val are case sensitive!");
		if (obj.getVal("TABLE") != null)
			fail("DbDataObject set and get Val are case sensitive!");

		System.out.print(obj.getVal("tESt"));

		System.out.println(obj.toJson());
		String serVal = obj.toJson().toString();
		Gson gs = new Gson();
		JsonObject jobj = gs.fromJson(serVal, JsonObject.class);
		obj.fromJson(jobj);

		System.out.println(obj.toJson());

	}

/*	@Test
	public void testDbQuerySchema() {
		try {
			String complexObj = "{\"com.prtech.svarog_common.DbQueryExpression\":{\"items\":[{\"com.prtech.svarog_common.DbQueryObject\":{\"dbt\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072370,\"object_id\":159,\"dt_insert\":\"2017-03-22T14:33:34.922+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":151,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"APPLICATION\"},{\"SCHEMA\":\"SVAROG\"},{\"SYSTEM_TABLE\":false},{\"REPO_TABLE\":false},{\"LABEL_CODE\":\"application.general\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"dbtFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16189,\"object_id\":3403,\"dt_insert\":\"2016-04-15T18:25:35.611+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application.pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16190,\"object_id\":3404,\"dt_insert\":\"2016-04-15T18:25:35.613+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"APP_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"APP_ID_IDX\"},{\"LABEL_CODE\":\"application.app_id\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16191,\"object_id\":3405,\"dt_insert\":\"2016-04-15T18:25:35.614+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"ARCH_NO\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":100},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.arch_no\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16192,\"object_id\":3406,\"dt_insert\":\"2016-04-15T18:25:35.615+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SUBMIT_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.submit_date\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16193,\"object_id\":3407,\"dt_insert\":\"2016-04-15T18:25:35.617+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"REFERENCE_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.reference_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862800,\"object_id\":4927486,\"dt_insert\":\"2016-06-15T00:32:46.338+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"ARCHIVE_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.archive_date\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22869905,\"object_id\":20719141,\"dt_insert\":\"2016-12-05T14:59:48.029+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"APP_TYPE_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application.app_type_id\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}}],\"idxItems\":[]}},\"repo\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072313,\"object_id\":1,\"dt_insert\":\"2017-03-22T14:33:23.013+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"SVAROG\"},{\"SCHEMA\":\"SVAROG\"},{\"SYSTEM_TABLE\":true},{\"REPO_TABLE\":true},{\"LABEL_CODE\":\"master_repo.repo_object\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"repoFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072352,\"object_id\":3140,\"dt_insert\":\"2017-03-22T14:33:29.509+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_pkid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"master_repo.table_pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15895,\"object_id\":3141,\"dt_insert\":\"2016-04-15T18:25:35.066+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"META_PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"meta_pkid_idx\"},{\"LABEL_CODE\":\"master_repo.table_meta_pkid\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072353,\"object_id\":3142,\"dt_insert\":\"2017-03-22T14:33:29.629+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_oid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_id\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15897,\"object_id\":3143,\"dt_insert\":\"2016-04-15T18:25:35.071+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_INSERT\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.insert_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":110}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15898,\"object_id\":3144,\"dt_insert\":\"2016-04-15T18:25:35.073+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_DELETE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.delete_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15899,\"object_id\":3145,\"dt_insert\":\"2016-04-15T18:25:35.075+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PARENT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.parent_id\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15900,\"object_id\":3146,\"dt_insert\":\"2016-04-15T18:25:35.076+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_TYPE\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_type\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":42864518,\"object_id\":3147,\"dt_insert\":\"2017-05-25T15:47:00.833+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"STATUS\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":10},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_status\"},{\"CODE_LIST_ID\":500},{\"GUI_METADATA\":\"{\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":72}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800},{\"CODE_LIST_MNEMONIC\":\"OBJ_STATUS\"}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15902,\"object_id\":3148,\"dt_insert\":\"2016-04-15T18:25:35.080+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"USER_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.created_by_user\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":900}]}}],\"idxItems\":[]}},\"search\":{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"DT_DELETE\",\"fieldName2\":null,\"compareValue\":\"9999-12-31T01:00:00.000+01:00\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"OR\",\"notPrefix\":false,\"fieldName\":\"STATUS\",\"fieldName2\":null,\"compareValue\":\"ADM_CTRL\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"STATUS\",\"fieldName2\":null,\"compareValue\":\"SUBMITTED\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"compareValue2\":null}}],\"orderByFields\":[]}}],\"orderByFields\":[]}},\"linkToNextType\":\"CUSTOM\",\"linkToNext\":null,\"joinToNext\":\"INNER\",\"referenceDate\":null,\"orderByFields\":null,\"enableHistory\":false,\"customJoinLeft\":[\"APP_TYPE_ID\"],\"customJoinRight\":[\"OBJECT_ID\"],\"subQuery\":null,\"subQueryFields\":null,\"whereParamVals\":null,\"subParamVals\":null,\"customFreeTextJoin\":null,\"isReturnType\":true}},{\"com.prtech.svarog_common.DbQueryObject\":{\"dbt\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072371,\"object_id\":158,\"dt_insert\":\"2017-03-22T14:33:35.031+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"APPLICATION_TYPE\"},{\"SCHEMA\":\"SVAROG\"},{\"SYSTEM_TABLE\":false},{\"REPO_TABLE\":false},{\"LABEL_CODE\":\"application_type.general\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":true},{\"CONFIG_UNQ_ID\":\"LABEL_CODE\"}]}},\"dbtFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16195,\"object_id\":3408,\"dt_insert\":\"2016-04-15T18:25:35.619+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application_type.pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16196,\"object_id\":3409,\"dt_insert\":\"2016-04-15T18:25:35.621+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DESCRIPTION\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":500},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.description\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16197,\"object_id\":3410,\"dt_insert\":\"2016-04-15T18:25:35.622+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"YEAR\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":4},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.year\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16198,\"object_id\":3411,\"dt_insert\":\"2016-04-15T18:25:35.623+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"CREATE_FROM\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.create_from\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16199,\"object_id\":3412,\"dt_insert\":\"2016-04-15T18:25:35.624+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"CREATE_TO\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.create_to\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16200,\"object_id\":3413,\"dt_insert\":\"2016-04-15T18:25:35.626+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SUBMIT_FROM\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.submit_from\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16201,\"object_id\":3414,\"dt_insert\":\"2016-04-15T18:25:35.627+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SUBMIT_TO\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.submit_to\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862801,\"object_id\":3415,\"dt_insert\":\"2016-06-15T00:32:46.368+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":158,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"LABEL_CODE\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":50},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"mnemonic.label_code\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800}]}}],\"idxItems\":[]}},\"repo\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072313,\"object_id\":1,\"dt_insert\":\"2017-03-22T14:33:23.013+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG\"},{\"TABLE_NAME\":\"SVAROG\"},{\"SCHEMA\":\"SVAROG\"},{\"SYSTEM_TABLE\":true},{\"REPO_TABLE\":true},{\"LABEL_CODE\":\"master_repo.repo_object\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"repoFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072352,\"object_id\":3140,\"dt_insert\":\"2017-03-22T14:33:29.509+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_pkid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"master_repo.table_pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15895,\"object_id\":3141,\"dt_insert\":\"2016-04-15T18:25:35.066+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"META_PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"meta_pkid_idx\"},{\"LABEL_CODE\":\"master_repo.table_meta_pkid\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":35072353,\"object_id\":3142,\"dt_insert\":\"2017-03-22T14:33:29.629+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_oid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_id\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15897,\"object_id\":3143,\"dt_insert\":\"2016-04-15T18:25:35.071+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_INSERT\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.insert_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":110}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15898,\"object_id\":3144,\"dt_insert\":\"2016-04-15T18:25:35.073+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_DELETE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.delete_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15899,\"object_id\":3145,\"dt_insert\":\"2016-04-15T18:25:35.075+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PARENT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.parent_id\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15900,\"object_id\":3146,\"dt_insert\":\"2016-04-15T18:25:35.076+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_TYPE\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_type\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":42864518,\"object_id\":3147,\"dt_insert\":\"2017-05-25T15:47:00.833+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"STATUS\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":10},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_status\"},{\"CODE_LIST_ID\":500},{\"GUI_METADATA\":\"{\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":72}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800},{\"CODE_LIST_MNEMONIC\":\"OBJ_STATUS\"}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15902,\"object_id\":3148,\"dt_insert\":\"2016-04-15T18:25:35.080+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"USER_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.created_by_user\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":900}]}}],\"idxItems\":[]}},\"search\":{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"DT_DELETE\",\"fieldName2\":null,\"compareValue\":\"9999-12-31T01:00:00.000+01:00\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"LABEL_CODE\",\"fieldName2\":null,\"compareValue\":\"app_type.2017.edbar\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"compareValue2\":null}}],\"orderByFields\":[]}},\"linkToNextType\":null,\"linkToNext\":null,\"joinToNext\":null,\"referenceDate\":null,\"orderByFields\":null,\"enableHistory\":false,\"customJoinLeft\":[],\"customJoinRight\":[],\"subQuery\":null,\"subQueryFields\":null,\"whereParamVals\":null,\"subParamVals\":null,\"customFreeTextJoin\":null,\"isReturnType\":false}}],\"linkStatusList\":[]}}";
			Gson gs = new Gson();
			JsonObject oJson = gs.fromJson(complexObj, JsonObject.class);
			DbQueryExpression dbx = new DbQueryExpression();
			dbx.fromJson(oJson);
			DbQueryObject dqo=dbx.getItems().get(0);
			String s = ((String) dqo.getDbt().getVal("SCHEMA"));
			if (!((String) dbx.getItems().get(0).getDbt().getVal("SCHEMA")).equals(SvConf.getDefaultSchema())) {
				fail("DbQueryExpression deserialisation failed to set the proper schema");
			}
		} catch (Exception e) {
			e.printStackTrace();
			fail("Test failed with exception");
		}

	}
*/
	@Test
	public void testDbSearchSerialisation() {
		String complexObj = "{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"DT_DELETE\",\"fieldName2\":null,\"compareValue\":\"9999-12-31T01:00:00.000+01:00\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"STATUS\",\"fieldName2\":null,\"compareValue\":\"SUBMITTED\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}}],\"orderByFields\":[]}}";
		Gson gs = new Gson();
		JsonObject oJson = gs.fromJson(complexObj, JsonObject.class);
		DbSearchExpression dbx = new DbSearchExpression();
		dbx.fromJson(oJson);

		String search = dbx.toJson().toString();
		DbSearchExpression dbx2 = new DbSearchExpression();
		dbx2.fromJson(gs.fromJson(search, JsonObject.class));

		if (!dbx.toJson().toString().equals(dbx2.toJson().toString())) {
			System.out.println(complexObj);
			System.out.println(dbx.toJson().toString());
			fail("DbQuery isn't equal after deserialisation");
		}

	}

	@Test
	public void testNonExistentFieldDeserialisation() {
		String complexObj = "{\"com.prtech.svarog_common.DbQueryExpression\":{\"items\":[{\"com.prtech.svarog_common.DbQueryObject\":{\"reverseRelation\":false,\"children\":[],\"dbt\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":104315488,\"object_id\":159,\"dt_insert\":\"2017-08-11T11:37:56.780+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":151,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG7\"},{\"TABLE_NAME\":\"APPLICATION\"},{\"SCHEMA\":\"SVAROG7\"},{\"SYSTEM_TABLE\":false},{\"REPO_TABLE\":false},{\"LABEL_CODE\":\"application.general\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"dbtFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16189,\"object_id\":3403,\"dt_insert\":\"2016-04-15T18:25:35.611+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application.pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16190,\"object_id\":3404,\"dt_insert\":\"2016-04-15T18:25:35.613+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"APP_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"APP_ID_IDX\"},{\"LABEL_CODE\":\"application.app_id\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16191,\"object_id\":3405,\"dt_insert\":\"2016-04-15T18:25:35.614+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"ARCH_NO\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":100},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application_type.arch_no\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16192,\"object_id\":3406,\"dt_insert\":\"2016-04-15T18:25:35.615+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SUBMIT_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.submit_date\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":16193,\"object_id\":3407,\"dt_insert\":\"2016-04-15T18:25:35.617+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"REFERENCE_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.reference_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862800,\"object_id\":4927486,\"dt_insert\":\"2016-06-15T00:32:46.338+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"ARCHIVE_DATE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"application.archive_date\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":22728305,\"object_id\":20259702,\"dt_insert\":\"2017-03-15T10:30:32.460+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":159,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"APP_TYPE_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"application.app_type_id\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}}],\"idxItems\":[]}},\"repo\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":104315455,\"object_id\":1,\"dt_insert\":\"2017-08-11T11:35:01.371+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG7\"},{\"TABLE_NAME\":\"SVAROG7\"},{\"SCHEMA\":\"SVAROG7\"},{\"SYSTEM_TABLE\":true},{\"REPO_TABLE\":true},{\"LABEL_CODE\":\"master_repo.repo_object\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"repoFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":25041219,\"object_id\":3140,\"dt_insert\":\"2017-03-24T10:14:50.192+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_pkid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"master_repo.table_pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15895,\"object_id\":3141,\"dt_insert\":\"2016-04-15T18:25:35.066+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"META_PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"meta_pkid_idx\"},{\"LABEL_CODE\":\"master_repo.table_meta_pkid\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":25041220,\"object_id\":3142,\"dt_insert\":\"2017-03-24T10:14:50.315+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_oid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_id\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15897,\"object_id\":3143,\"dt_insert\":\"2016-04-15T18:25:35.071+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_INSERT\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.insert_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":110}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15898,\"object_id\":3144,\"dt_insert\":\"2016-04-15T18:25:35.073+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_DELETE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.delete_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15899,\"object_id\":3145,\"dt_insert\":\"2016-04-15T18:25:35.075+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PARENT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.parent_id\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15900,\"object_id\":3146,\"dt_insert\":\"2016-04-15T18:25:35.076+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_TYPE\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_type\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6865424,\"object_id\":3147,\"dt_insert\":\"2016-06-15T00:33:40.159+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"STATUS\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":10},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_status\"},{\"CODE_LIST_ID\":500},{\"GUI_METADATA\":\"{\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":72}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800},{\"CODE_LIST_MNEMONIC\":\"OBJ_STATUS\"}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15902,\"object_id\":3148,\"dt_insert\":\"2016-04-15T18:25:35.080+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"USER_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.created_by_user\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":900}]}}],\"idxItems\":[]}},\"search\":{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"DT_DELETE\",\"fieldName2\":null,\"compareValue\":\"9999-12-31T01:00:00.000+01:00\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"STATUS\",\"fieldName2\":null,\"compareValue\":\"SUBMITTED\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}}],\"orderByFields\":[]}},\"searchExternal\":{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"STATUS\",\"fieldName2\":null,\"compareValue\":\"SUBMITTED\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},\"denormalizedFieldName\":null,\"linkToNextType\":\"CUSTOM\",\"linkToNext\":null,\"joinToNext\":\"INNER\",\"referenceDate\":null,  \"ghostInAShell\":null,   \"linkReferenceDate\":null,\"orderByFields\":null,\"linkStatusList\":null,\"enableHistory\":false,\"customJoinLeft\":[\"OBJECT_ID\"],\"customJoinRight\":[\"SVAROG_OBJ_ID\"],\"subQuery\":null,\"subQueryFields\":null,\"whereParamVals\":null,\"subParamVals\":null,\"customFreeTextJoin\":null,\"sqlTablePrefix\":null,\"isReturnType\":true}},{\"com.prtech.svarog_common.DbQueryObject\":{\"reverseRelation\":false,\"children\":[],\"dbt\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":104315477,\"object_id\":77,\"dt_insert\":\"2017-08-11T11:35:05.115+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG7\"},{\"TABLE_NAME\":\"SVAROG_JOB_OBJECT\"},{\"SCHEMA\":\"SVAROG7\"},{\"SYSTEM_TABLE\":true},{\"REPO_TABLE\":false},{\"LABEL_CODE\":\"master_repo.job_object\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"dbtFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862795,\"object_id\":5880106,\"dt_insert\":\"2016-06-15T00:32:45.480+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":77,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"master_repo.table_meta_pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862796,\"object_id\":5880107,\"dt_insert\":\"2016-06-15T00:32:45.483+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":77,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"SVAROG_OBJ_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"job_object.svarog_obj_id\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862797,\"object_id\":5880108,\"dt_insert\":\"2016-06-15T00:32:45.485+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":77,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"RESULT\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":2000},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"job_object.result\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6862798,\"object_id\":5880109,\"dt_insert\":\"2016-06-15T00:32:45.488+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":77,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"NOTE\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":2000},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"job_object.note\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}}],\"idxItems\":[]}},\"repo\":{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":104315455,\"object_id\":1,\"dt_insert\":\"2017-08-11T11:35:01.371+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":0,\"object_type\":50,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"REPO_NAME\":\"SVAROG7\"},{\"TABLE_NAME\":\"SVAROG7\"},{\"SCHEMA\":\"SVAROG7\"},{\"SYSTEM_TABLE\":true},{\"REPO_TABLE\":true},{\"LABEL_CODE\":\"master_repo.repo_object\"},{\"USE_CACHE\":true},{\"CACHE_TYPE\":\"LRU_TTL\"},{\"CACHE_SIZE\":5000},{\"CACHE_EXPIRY\":30},{\"IS_CONFIG_TABLE\":false}]}},\"repoFields\":{\"com.prtech.svarog_common.DbDataArray\":{\"indexField\":null,\"filter\":null,\"items\":[{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":25041219,\"object_id\":3140,\"dt_insert\":\"2017-03-24T10:14:50.192+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_pkid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":true},{\"LABEL_CODE\":\"master_repo.table_pkid\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":100}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15895,\"object_id\":3141,\"dt_insert\":\"2016-04-15T18:25:35.066+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"META_PKID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"meta_pkid_idx\"},{\"LABEL_CODE\":\"master_repo.table_meta_pkid\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":200}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":25041220,\"object_id\":3142,\"dt_insert\":\"2017-03-24T10:14:50.315+01:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"SEQUENCE_NAME\":\"SVAROG_oid\"},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_id\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":300}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15897,\"object_id\":3143,\"dt_insert\":\"2016-04-15T18:25:35.071+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_INSERT\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.insert_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":110}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":400}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15898,\"object_id\":3144,\"dt_insert\":\"2016-04-15T18:25:35.073+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"DT_DELETE\"},{\"FIELD_TYPE\":\"TIMESTAMP\"},{\"FIELD_SIZE\":3},{\"IS_NULL\":false},{\"IS_UNIQUE\":true},{\"UNQ_LEVEL\":\"TABLE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.delete_date\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":500}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15899,\"object_id\":3145,\"dt_insert\":\"2016-04-15T18:25:35.075+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"PARENT_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":true},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"INDEX_NAME\":\"parent_id_dt_delete\"},{\"LABEL_CODE\":\"master_repo.parent_id\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":600}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15900,\"object_id\":3146,\"dt_insert\":\"2016-04-15T18:25:35.076+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"OBJECT_TYPE\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"FIELD_SCALE\":0},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_type\"},{\"GUI_METADATA\":\"{\\\"editable\\\":true,\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true}}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":700}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":6865424,\"object_id\":3147,\"dt_insert\":\"2016-06-15T00:33:40.159+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"STATUS\"},{\"FIELD_TYPE\":\"NVARCHAR\"},{\"FIELD_SIZE\":10},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.object_status\"},{\"CODE_LIST_ID\":500},{\"GUI_METADATA\":\"{\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":72}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":800},{\"CODE_LIST_MNEMONIC\":\"OBJ_STATUS\"}]}},{\"com.prtech.svarog_common.DbDataObject\":{\"pkid\":15902,\"object_id\":3148,\"dt_insert\":\"2016-04-15T18:25:35.080+02:00\",\"dt_delete\":\"9999-12-31T01:00:00.000+01:00\",\"parent_id\":1,\"object_type\":51,\"status\":\"VALID\",\"user_id\":-13,\"values\":[{\"FIELD_NAME\":\"USER_ID\"},{\"FIELD_TYPE\":\"NUMERIC\"},{\"FIELD_SIZE\":18},{\"IS_NULL\":false},{\"IS_UNIQUE\":false},{\"UNQ_LEVEL\":\"NOT_UNIQUE\"},{\"IS_PRIMARY_KEY\":false},{\"LABEL_CODE\":\"master_repo.created_by_user\"},{\"GUI_METADATA\":\"{\\\"hidden\\\":true,\\\"editoptions\\\":{\\\"readonly\\\":true},\\\"width\\\":60}\"},{\"IS_UPDATEABLE\":true},{\"SORT_ORDER\":900}]}}],\"idxItems\":[]}},\"search\":{\"com.prtech.svarog_common.DbSearchExpression\":{\"nextCritOperand\":\"AND\",\"exprList\":[{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"DT_DELETE\",\"fieldName2\":null,\"compareValue\":\"9999-12-31T01:00:00.000+01:00\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"PARENT_ID\",\"fieldName2\":null,\"compareValue\":\"85054708\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}}],\"orderByFields\":[]}},\"searchExternal\":{\"com.prtech.svarog_common.DbSearchCriterion\":{\"orderByFields\":[],\"nextCritOperand\":\"AND\",\"notPrefix\":false,\"fieldName\":\"PARENT_ID\",\"fieldName2\":null,\"compareValue\":\"85054708\",\"operand\":\"EQUAL\",\"freeTextWhere\":\"\",\"leftField\":null,\"rightField\":null,\"isField2FieldJoin\":false,\"compareValue2\":null}},\"denormalizedFieldName\":null,\"linkToNextType\":\"CUSTOM\",\"linkToNext\":null,\"joinToNext\":\"INNER\",\"referenceDate\":null,\"linkReferenceDate\":null,\"orderByFields\":null,\"linkStatusList\":null,\"enableHistory\":false,\"customJoinLeft\":[\"OBJECT_ID\"],\"customJoinRight\":[\"TASK_OBJ_ID\"],\"subQuery\":null,\"subQueryFields\":null,\"whereParamVals\":null,\"subParamVals\":null,\"customFreeTextJoin\":null,\"sqlTablePrefix\":null,\"isReturnType\":false}}],\"rootQueryObject\":null,\"isReverseExpression\":false,\"queryParamVals\":[],\"linkStatusList\":[]}}";
		Gson gs = new Gson();
		JsonObject oJson = gs.fromJson(complexObj, JsonObject.class);
		DbQueryExpression dbx = new DbQueryExpression();
		dbx.fromJson(oJson);

		String search = dbx.toJson().toString();
		DbQueryExpression dbx2 = new DbQueryExpression();
		dbx2.fromJson(gs.fromJson(search, JsonObject.class));	
		
		if (!dbx.toJson().toString().equals(dbx2.toJson().toString())) {
			System.out.println(complexObj);
			System.out.println(dbx.toJson().toString());
			fail("DbQuery isn't equal after deserialisation");
		}

	}
}
